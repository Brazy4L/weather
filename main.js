(()=>{let e=document.getElementById("search");e.addEventListener("keydown",(o=>{"Enter"===o.key&&(""===e.value?console.log():async function(e){try{const o=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${e}`,{mode:"cors"});let n=await o.json();!async function(e,o){try{const n=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${e}&longitude=${o}&daily=temperature_2m_max,temperature_2m_min,precipitation_sum&daily=sunrise,sunset&daily=weathercode&timezone=auto`,{mode:"cors"}),l=await n.json();t(l.daily.temperature_2m_max,l.daily.temperature_2m_min,l.daily.weathercode,l.daily.precipitation_sum,l.daily.time,l.daily.sunrise,l.daily.sunset)}catch(e){console.log(e)}}(n.results[0].latitude,n.results[0].longitude),async function(e,t){try{const o=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${e}&longitude=${t}&hourly=temperature_2m,precipitation,weathercode&timezone=auto`,{mode:"cors"}),n=await o.json();console.log(n)}catch(e){console.log(e)}}(n.results[0].latitude,n.results[0].longitude)}catch(e){console.log(e)}}(e.value))}));const t=(e,t,o,n,l,a,c)=>{let r=document.querySelectorAll(".hightemp"),i=document.querySelectorAll(".lowtemp"),s=document.querySelectorAll(".icon"),u=document.querySelectorAll(".precip"),m=document.querySelectorAll(".date"),d=document.getElementById("sunrise"),p=document.getElementById("sunset");for(let t=0;t<7;t++)r[t].textContent=e[t]+" °C";for(let e=0;e<7;e++)i[e].textContent=t[e]+" °C";for(let e=0;e<7;e++)s[e].textContent=o[e];for(let e=0;e<7;e++)null===n[e]?u[e].textContent="0 mm":u[e].textContent=n[e]+" mm";for(let e=0;e<7;e++)m[e].textContent=l[e].substring(5);d.textContent=a[0].substring(11),p.textContent=c[0].substring(11)};return{app:()=>{console.log()}}})().app();